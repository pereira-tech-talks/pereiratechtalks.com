{"version":3,"file":"client.ifneQZoF.js","sources":["../../node_modules/@astrojs/svelte/client.js"],"sourcesContent":["const noop = () => {};\n\nlet originalConsoleWarning;\nlet consoleFilterRefs = 0;\n\nconst existingApplications = new WeakMap();\n\nexport default (element) => {\n\treturn (Component, props, slotted, { client }) => {\n\t\tif (!element.hasAttribute('ssr')) return;\n\t\tconst slots = {};\n\t\tfor (const [key, value] of Object.entries(slotted)) {\n\t\t\tslots[key] = createSlotDefinition(key, value);\n\t\t}\n\n\t\ttry {\n\t\t\tif (import.meta.env.DEV) useConsoleFilter();\n\n\t\t\tif (existingApplications.has(element)) {\n\t\t\t\texistingApplications.get(element).$set({ ...props, $$slots: slots, $$scope: { ctx: [] } });\n\t\t\t} else {\n\t\t\t\tconst component = new Component({\n\t\t\t\t\ttarget: element,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...props,\n\t\t\t\t\t\t$$slots: slots,\n\t\t\t\t\t\t$$scope: { ctx: [] },\n\t\t\t\t\t},\n\t\t\t\t\thydrate: client !== 'only',\n\t\t\t\t\t$$inline: true,\n\t\t\t\t});\n\t\t\t\texistingApplications.set(element, component);\n\n\t\t\t\telement.addEventListener('astro:unmount', () => component.$destroy(), { once: true });\n\t\t\t}\n\t\t} finally {\n\t\t\tif (import.meta.env.DEV) finishUsingConsoleFilter();\n\t\t}\n\t};\n};\n\nfunction createSlotDefinition(key, children) {\n\tlet parent;\n\treturn [\n\t\t() => ({\n\t\t\t// mount\n\t\t\tm(target) {\n\t\t\t\tparent = target;\n\t\t\t\ttarget.insertAdjacentHTML(\n\t\t\t\t\t'beforeend',\n\t\t\t\t\t`<astro-slot${key === 'default' ? '' : ` name=\"${key}\"`}>${children}</astro-slot>`,\n\t\t\t\t);\n\t\t\t},\n\t\t\t// create\n\t\t\tc: noop,\n\t\t\t// hydrate\n\t\t\tl: noop,\n\t\t\t// destroy\n\t\t\td() {\n\t\t\t\tif (!parent) return;\n\t\t\t\tconst slot = parent.querySelector(\n\t\t\t\t\t`astro-slot${key === 'default' ? ':not([name])' : `[name=\"${key}\"]`}`,\n\t\t\t\t);\n\t\t\t\tif (slot) slot.remove();\n\t\t\t},\n\t\t}),\n\t\tnoop,\n\t\tnoop,\n\t];\n}\n\n/**\n * Reduces console noise by filtering known non-problematic warnings.\n *\n * Performs reference counting to allow parallel usage from async code.\n *\n * To stop filtering, please ensure that there always is a matching call\n * to `finishUsingConsoleFilter` afterwards.\n */\nfunction useConsoleFilter() {\n\tconsoleFilterRefs++;\n\n\tif (!originalConsoleWarning) {\n\t\toriginalConsoleWarning = console.warn;\n\t\ttry {\n\t\t\tconsole.warn = filteredConsoleWarning;\n\t\t} catch {\n\t\t\t// If we're unable to hook `console.warn`, just accept it\n\t\t}\n\t}\n}\n\n/**\n * Indicates that the filter installed by `useConsoleFilter`\n * is no longer needed by the calling code.\n */\nfunction finishUsingConsoleFilter() {\n\tconsoleFilterRefs--;\n\n\t// Note: Instead of reverting `console.warning` back to the original\n\t// when the reference counter reaches 0, we leave our hook installed\n\t// to prevent potential race conditions once `check` is made async\n}\n\n/**\n * Hook/wrapper function for the global `console.warning` function.\n *\n * Ignores known non-problematic errors while any code is using the console filter.\n * Otherwise, simply forwards all arguments to the original function.\n */\nfunction filteredConsoleWarning(msg, ...rest) {\n\tif (consoleFilterRefs > 0 && typeof msg === 'string') {\n\t\t// Astro passes `class` and `data-astro-cid` props to the Svelte component, which\n\t\t// outputs the following warning, which we can safely filter out.\n\n\t\t// NOTE: In practice data-astro-cid props have a hash suffix. Hence the use of a\n\t\t// quoted prop name string without a closing quote.\n\n\t\tconst isKnownSvelteError =\n\t\t\tmsg.endsWith(\"was created with unknown prop 'class'\") ||\n\t\t\tmsg.includes(\"was created with unknown prop 'data-astro-cid\");\n\t\tif (isKnownSvelteError) return;\n\t}\n\toriginalConsoleWarning(msg, ...rest);\n}\n"],"names":["noop","existingApplications","client","element","Component","props","slotted","slots","key","value","createSlotDefinition","component","children","parent","target","slot"],"mappings":"yTAAA,MAAMA,EAAO,IAAM,CAAC,EAKpB,MAAMC,MAA2B,QAElBC,EAACC,GACR,CAACC,EAAWC,EAAOC,EAAS,CAAE,OAAAJ,KAAa,CACjD,GAAI,CAACC,EAAQ,aAAa,KAAK,EAAG,OAClC,MAAMI,EAAQ,CAAA,EACd,SAAW,CAACC,EAAKC,CAAK,IAAK,OAAO,QAAQH,CAAO,EAChDC,EAAMC,CAAG,EAAIE,EAAqBF,EAAKC,CAAK,EAGzC,GAAA,CAGC,GAAAR,EAAqB,IAAIE,CAAO,EACnCF,EAAqB,IAAIE,CAAO,EAAE,KAAK,CAAE,GAAGE,EAAO,QAASE,EAAO,QAAS,CAAE,IAAK,CAAC,CAAA,CAAK,CAAA,MACnF,CACA,MAAAI,EAAY,IAAIP,EAAU,CAC/B,OAAQD,EACR,MAAO,CACN,GAAGE,EACH,QAASE,EACT,QAAS,CAAE,IAAK,EAAG,CACpB,EACA,QAASL,IAAW,OACpB,SAAU,EAAA,CACV,EACoBD,EAAA,IAAIE,EAASQ,CAAS,EAEnCR,EAAA,iBAAiB,gBAAiB,IAAMQ,EAAU,WAAY,CAAE,KAAM,EAAA,CAAM,CACrF,CAAA,QACC,CAEF,CAAA,EAIF,SAASD,EAAqBF,EAAKI,EAAU,CACxC,IAAAC,EACG,MAAA,CACN,KAAO,CAEN,EAAEC,EAAQ,CACAD,EAAAC,EACFA,EAAA,mBACN,YACA,cAAcN,IAAQ,UAAY,GAAK,UAAUA,CAAG,GAAG,IAAII,CAAQ,eAAA,CAErE,EAEA,EAAGZ,EAEH,EAAGA,EAEH,GAAI,CACH,GAAI,CAACa,EAAQ,OACb,MAAME,EAAOF,EAAO,cACnB,aAAaL,IAAQ,UAAY,eAAiB,UAAUA,CAAG,IAAI,EAAA,EAEhEO,KAAW,QAChB,CAAA,GAEDf,EACAA,CAAA,CAEF","x_google_ignoreList":[0]}